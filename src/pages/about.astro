---
import Header from "@/components/Header.astro";
import Link from "@/components/Link.astro";
import Timeline from "@/components/Timeline.astro";
import { AUTHOR, SITE, SOCIAL_LINKS } from "@/consts";
import { EDUCATION } from "@/data/about";
import Layout from "@/layouts/Layout.astro";
import { Github, Linkedin, MapPin } from "lucide-astro";
---

<Layout
  title={`About - ${SITE.title}`}
  description={`Learn more about ${AUTHOR.name} - ${AUTHOR.tagline}`}
  type="profile"
  jsonLd={{ type: "person" }}
>
  <Header slot="header" />
  <main class="w-full mx-auto flex grow flex-col gap-y-12 px-4 max-w-3xl pb-12">
    <!-- Breadcrumb -->
    <nav class="flex items-center gap-2 text-sm text-muted-foreground">
      <Link href="/">Home</Link>
      <span>/</span>
      <span class="text-foreground">About</span>
    </nav>

    <!-- Profile Header -->
    <section class="flex flex-col md:flex-row gap-6 items-start">
      <!-- Avatar -->
      <div class="flex-shrink-0">
        <img
          src={AUTHOR.avatar}
          alt={AUTHOR.name}
          class="rounded-full w-32 h-32 object-cover border-2 border-border"
        />
      </div>

      <!-- Info -->
      <div class="flex-1 space-y-3">
        <h1 class="text-3xl font-bold">{AUTHOR.name}</h1>

        {
          AUTHOR.location && (
            <span class="flex items-center gap-1 text-muted-foreground">
              <MapPin size={14} />
              {AUTHOR.location}
            </span>
          )
        }
      </div>
    </section>

    <!-- Bio Section -->
    <section class="prose prose-neutral dark:prose-invert max-w-none">
      <p>
        I'm a <strong>{AUTHOR.role}</strong> currently {AUTHOR.currentWork}.
        {AUTHOR.bio}
      </p>

      {AUTHOR.longBio && <p>{AUTHOR.longBio}</p>}

      <p>
        I believe in writing clean, maintainable code and following best practices. I'm always
        excited to collaborate on interesting projects and connect with fellow developers.
      </p>
    </section>

    <!-- Quick Links -->
    <section class="flex flex-wrap gap-3">
      <Link
        href={SOCIAL_LINKS.github}
        external
        class="inline-flex items-center gap-2 px-4 py-2 border border-border rounded-md hover:bg-muted transition-colors"
      >
        <Github size={16} />
        GitHub
      </Link>

      <Link
        href={SOCIAL_LINKS.linkedin}
        external
        class="inline-flex items-center gap-2 px-4 py-2 border border-border rounded-md hover:bg-muted transition-colors"
      >
        <Linkedin size={16} />
        LinkedIn
      </Link>
    </section>

    <!-- Education -->
    <section class="flex flex-col gap-y-4">
      <h2 class="text-2xl font-bold">Education</h2>
      <Timeline items={EDUCATION} />
    </section>
  </main>
</Layout>
