---
import ContentCard from "@/components/ContentCard.astro";
import { calculateReadingTime, formatBlogDate, formatReadingTime } from "@/lib/utils";
import type { CollectionEntry } from "astro:content";

interface Props {
  post: CollectionEntry<"blog">;
  class?: string;
}

const { post, class: className } = Astro.props;
const { title, description, tags, publishDate } = post.data;
const postUrl = `/blog/${post.slug}`;
const formattedDate = formatBlogDate(publishDate);
const readingTime = calculateReadingTime(post.body ?? "");
const meta = `${formattedDate} Â· ${formatReadingTime(readingTime)}`;
---

<ContentCard
  title={title}
  description={description}
  tags={tags}
  href={postUrl}
  meta={meta}
  class:list={className}
/>
