---
import Link from "@/components/Link.astro";
import { cn } from "@/lib/utils";
import { Icon } from "astro-icon/components";

interface Props {
  title: string;
  description: string;
  tags: string[];
  href: string;
  meta?: string;
  class?: string;
}

const { title, description, tags, href, meta, class: className } = Astro.props;
---

<article class:list={cn("group", className)}>
  <Link href={href} class:list={cn("block card-hover")} prefetch="hover">
    <div class="flex flex-col gap-2 p-5">
      <div class="flex items-start justify-between gap-3">
        <h3
          class="text-lg font-medium text-foreground group-hover:text-foreground transition-colors"
        >
          {title}
        </h3>
        <Icon
          name="fa6-solid:arrow-up-right"
          class="w-4 h-4 shrink-0 mt-1 text-muted-foreground/0 group-hover:text-muted-foreground transition-all group-hover:translate-x-0.5 group-hover:-translate-y-0.5"
        />
      </div>
      {meta && <p class="text-sm text-muted-foreground">{meta}</p>}
      <p class="text-sm text-muted-foreground line-clamp-2">
        {description}
      </p>
      {
        tags.length > 0 && (
          <div class="flex flex-wrap gap-1.5 mt-2">
            {tags.map((tag: string) => (
              <span class="tag-pill">{tag}</span>
            ))}
          </div>
        )
      }
    </div>
  </Link>
</article>
